| **Test ID** | **Tên Test Case**                  | **Tiền điều kiện**                  | **Bước thực hiện**                                 | **Kết quả mong đợi**                                                               |
| ----------- | ---------------------------------- | ----------------------------------- | -------------------------------------------------- | ---------------------------------------------------------------------------------- |
| **TC01**    | Thêm sản phẩm vào giỏ              | Giỏ hàng chưa tồn tại trong Session | Người dùng nhấn **Thêm vào giỏ** tại ProductDetail | - Tạo giỏ mới trong Carts <br> - Thêm 1 CartItem <br> - Session["CartId"] được tạo |
| **TC02**    | Load danh sách sản phẩm            | Có ít nhất 1 CartItem trong DB      | Mở trang Cart.aspx                                 | GridView hiển thị đúng Name, Price, Quantity, Total                                |
| **TC03**    | Cập nhật số lượng hợp lệ           | Giỏ hàng có sản phẩm                | Nhập số lượng đúng → nhấn **Cập nhật**             | Số lượng cập nhật, tổng tiền thay đổi đúng                                         |
| **TC04**    | Cập nhật số lượng không hợp lệ     | Giỏ chứa sản phẩm                   | Nhập số lượng âm / chữ / ký tự → nhấn **Cập nhật** | Hiện cảnh báo “Số lượng không hợp lệ!”                                             |
| **TC05**    | Xóa sản phẩm khỏi giỏ              | Có sản phẩm trong giỏ               | Nhấn nút **Xóa** trên dòng sản phẩm                | Sản phẩm bị xóa, tổng tiền cập nhật                                                |
| **TC06**    | Tính tổng tiền giỏ hàng            | Giỏ có nhiều sản phẩm               | Load Cart.aspx                                     | lblTotal hiển thị đúng tổng tiền SUM(Quantity*Price)                               |
| **TC07**    | Giỏ hàng trống                     | Không có CartItem                   | Mở Cart.aspx                                       | Hiển thị giỏ trống, tổng tiền = 0đ                                                 |
| **TC08**    | Thanh toán khi chưa đăng nhập      | Session["UserId"] = null            | Nhấn **Thanh toán**                                | Redirect đến Login.aspx?returnUrl=Checkout.aspx                                    |
| **TC09**    | Thanh toán khi đã đăng nhập        | Session["UserId"] != null           | Nhấn **Thanh toán**                                | Redirect sang Checkout.aspx                                                        |
| **TC10**    | Gán giỏ tạm cho User sau đăng nhập | Session có CartId & UserId          | Mở Cart.aspx                                       | Cart.UserId cập nhật đúng nếu đang NULL                                            |
| **TC11**    | Kiểm tra bảo mật giá               | Có CartItem                         | Dùng DevTools chỉnh giá phía client                | Giá thực tế không thay đổi (server lấy từ DB)                                      |
| **TC12**    | Mất Session giỏ hàng               | Xóa Session["CartId"]               | Reload trang Cart.aspx                             | Tạo giỏ mới, không lỗi                                                             |
